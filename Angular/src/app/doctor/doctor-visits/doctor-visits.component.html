<div class="visits-container">

  <!-- HEADER -->
  <div class="header">
    <div>
      <h1>Visit Records</h1>
      <p>Patient visit history</p>
    </div>
    <button class="primary" (click)="openNewVisit()">+ New Visit</button>
  </div>

  <!-- VISITS -->
  <div class="visits-grid">
    <div class="visit-card" *ngFor="let visit of visits; let i = index">

      <div class="card-header">
        <div>
          <h3>{{ visit.patientName }}</h3>
          <span>{{ visit.date }}</span>
        </div>
        <span class="badge" [class.completed]="visit.status === 'Completed'">
          {{ visit.status }}
        </span>
      </div>

      <div class="content">
        <p><strong>Diagnosis:</strong> {{ visit.diagnosis }}</p>
        <p><strong>Notes:</strong> {{ visit.notes }}</p>

        <ul>
          <li *ngFor="let p of visit.prescriptions">{{ p }}</li>
        </ul>
      </div>

      <div class="actions">
        <button class="danger" (click)="deleteVisit(i)">Delete</button>
      </div>

    </div>
  </div>
</div>

<!-- MODAL -->
<div class="overlay" *ngIf="showModal">
  <div class="modal">
    <h2>Add New Visit</h2>
    <p>This will create a new visit record.</p>

    <div class="modal-actions">
      <button class="secondary" (click)="closeModal()">Cancel</button>
      <button class="primary" (click)="confirmAddVisit()">Add Visit</button>
    </div>
  </div>
</div>
